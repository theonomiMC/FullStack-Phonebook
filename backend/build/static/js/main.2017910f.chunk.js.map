{"version":3,"sources":["services/persons.js","components/Notification.js","App.js","index.js"],"names":["baseURL","newObj","axios","post","then","response","data","get","id","newObject","put","delete","Notification","message","className","App","useState","newName","setNewName","newNumber","setNewNumber","search","setSearch","persons","setPersons","errorMessage","setErrorMessage","useEffect","personsService","personsDatabase","findName","some","element","name","filteredPersons","filter","p","toLowerCase","includes","value","onChange","event","target","onSubmit","preventDefault","personObj","number","find","updateNumber","window","confirm","changedNumber","map","setTimeout","numberConfirm","concat","type","key","onClick","person","deletePersonOf","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2017910f.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseURL = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    let request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObj => {\r\n    let request = axios.post(baseURL, newObj)\r\n    return request.then(response => response.data)\r\n}\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst _delete = id => {\r\n    let remove = axios.delete(`${baseURL}/${id}`)\r\n    return remove.then(response => response.data)\r\n}\r\nexport default { create, getAll, update, delete: _delete }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\n\nexport default function App() {\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [search, setSearch] = useState('')\n    const [persons, setPersons] = useState([])\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    /* ---USEEFFECT/personsService---*/\n    useEffect(() => {\n        personsService\n            .getAll()\n            .then(personsDatabase => setPersons(personsDatabase))\n    }, [])\n    /*--handleName(search, filter, number)Change----*/\n    const handleNewName = event => {\n        setNewName(event.target.value)\n    }\n    const handleNewNumber = event => {\n        setNewNumber(event.target.value)\n    }\n    const handleSearch = event => {\n        setSearch(event.target.value)\n    }\n    /*---handlefunctions above---*/\n\n    const findName = persons.some(element => element.name === newName)\n\n    const addPerson = event => {\n        event.preventDefault()\n        let personObj = {\n            name: newName,\n            number: newNumber\n        }\n        const numberConfirm = id => {\n            const name = persons.find(p => p.name === newName)\n            const updateNumber = { ...name, number: newNumber }\n            if (window.confirm(`${newName} is already in the phonebook, replace number?`)) {\n                personsService\n                    .update(name.id, updateNumber)\n                    .then(changedNumber => {\n                        setPersons(persons.map(name =>\n                            name.id !== id ? name : changedNumber))\n                        setErrorMessage(`${newName}'s phone number was updated`)\n                        setTimeout(() => setErrorMessage(null), 5000)\n                    })\n            }\n        }\n        const showAlert = (condition) => {\n            condition ? numberConfirm() :\n                personsService\n                    .create(personObj)\n                    .then(data => {\n                        setPersons(persons.concat(data))\n                        setErrorMessage(`${newName} was added to the Phonebook`)\n                        setTimeout(() => setErrorMessage(null), 5000)\n                    })\n        }\n        showAlert(findName)\n        setNewName('')\n        setNewNumber('')\n\n    }\n    const deletePersonOf = id => {\n        let person = persons.find(p => p.id === id)\n        if (window.confirm(`Delete ${person.name} from Phonebook?`)) {\n            // ---DELETE Person from the db.json---\n            personsService\n                .delete(id)\n                .then(data => setPersons(persons.filter(p => p.id !== id)))\n        }\n    }\n    const filteredPersons = search === '' ? persons :\n        persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase()))\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} />\n            <div>\n                Search Person: <input value={search} onChange={handleSearch} />\n                <hr />\n            </div>\n            <form onSubmit={addPerson}>\n                <h3>Add a new Number</h3>\n                <div>\n                    Name: <input value={newName} onChange={handleNewName} />\n                </div>\n                <div>\n                    Number: <input value={newNumber} onChange={handleNewNumber} />\n                </div>\n                <div>\n                    <button type=\"submit\" className='submit'>Add</button>\n                </div>\n            </form>\n            <h3>Numbers</h3>\n            <ol>\n                {filteredPersons.map(p =>\n                    <li key={p.name}>\n                        {p.name} - {p.number}\n                        <button onClick={() => deletePersonOf(p.id)}>\n                            Delete</button>\n                    </li>\n\n                )}\n            </ol>\n        </div>\n    )\n} ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport App from './App';\n// import App from './AppPhone'\n\nReactDOM.render(<App />,  document.getElementById('root'));"],"sourceRoot":""}