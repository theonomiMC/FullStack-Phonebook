(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(14),c=t.n(r),o=(t(20),t(4)),l=t(2),i=t(3),m=t.n(i),f="/api/persons",s=function(e){return m.a.post(f,e).then((function(e){return e.data}))},b=function(){return m.a.get(f).then((function(e){return e.data}))},d=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},p=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"error"},n)};function E(){var e=Object(a.useState)(""),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),i=Object(l.a)(c,2),m=i[0],f=i[1],E=Object(a.useState)(""),v=Object(l.a)(E,2),j=v[0],O=v[1],w=Object(a.useState)([]),g=Object(l.a)(w,2),k=g[0],S=g[1],C=Object(a.useState)(null),N=Object(l.a)(C,2),y=N[0],P=N[1];Object(a.useEffect)((function(){b().then((function(e){return S(e)}))}),[]);var D=k.some((function(e){return e.name===t})),A=""===j?k:k.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}));return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(p,{message:y}),u.a.createElement("div",null,"Search Person: ",u.a.createElement("input",{value:j,onChange:function(e){O(e.target.value)}}),u.a.createElement("hr",null)),u.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:t,number:m};D?function(e){var n=k.find((function(e){return e.name===t})),a=Object(o.a)(Object(o.a)({},n),{},{number:m});window.confirm("".concat(t," is already in the phonebook, replace number?"))&&d(n.id,a).then((function(n){S(k.map((function(t){return t.id!==e?t:n}))),P("".concat(t,"'s phone number was updated")),setTimeout((function(){return P(null)}),5e3)}))}():s(n).then((function(e){S(k.concat(e)),P("".concat(t," was added to the Phonebook")),setTimeout((function(){return P(null)}),5e3)})),r(""),f("")}},u.a.createElement("h3",null,"Add a new Number"),u.a.createElement("div",null,"Name: ",u.a.createElement("input",{value:t,onChange:function(e){r(e.target.value)}})),u.a.createElement("div",null,"Number: ",u.a.createElement("input",{value:m,onChange:function(e){f(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit",className:"submit"},"Add"))),u.a.createElement("h3",null,"Numbers"),u.a.createElement("ol",null,A.map((function(e){return u.a.createElement("li",{key:e.name},e.name," - ",e.number,u.a.createElement("button",{onClick:function(){return function(e){var n=k.find((function(n){return n.id===e}));window.confirm("Delete ".concat(n.name," from Phonebook?"))&&h(e).then((function(n){return S(k.filter((function(n){return n.id!==e})))}))}(e.id)}},"Delete"))}))))}c.a.render(u.a.createElement(E,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.2017910f.chunk.js.map